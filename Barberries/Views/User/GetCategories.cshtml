@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using Barberries.Models
@using Barberries.ViewModels
@model CategoriesViewModel

<html>
	<head>
		<meta charset="utf-8" />
		<tittle>@Model.ParentCategory?.Name</tittle>
	</head>
	<body>
		<table>
			<thead>
				<tr>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
			@for(int i = 0; i < Model.Categories.Count() - 1; i += 2) {
				Category category1 = Model.Categories.ElementAt(i);
				Category category2 = Model.Categories.ElementAt(i + 1);
				<tr>
					<td>
						<a asp-controller="User"
						asp-action="GetSubcategories"
						asp-route-categoryid="@category1.Id">
							<img src="@category1.Name"
								title="@category1.Name" width="400" height="341"
								alt="Изображение не может быть загружено"/>
						</a>
					</td>
					<td>
						<a asp-controller="User"
						asp-action="GetSubcategories"
						asp-route-categoryid="@category2.Id">
							<img src="@category2.Name"
								title="@category2.Name" width="400" height="341"
								alt="Изображение не может быть загружено"/>
						</a>
					</td>
				</tr>
			}
			@if(Model.Categories.Count() % 2 != 0) {
				Category category = Model.Categories.Last();
				<tr>
					<td>
						<a asp-controller="User"
						asp-action="GetSubcategories"
						asp-route-categoryid="@category.Id">
							<img src="@category.Name"
								title="@category.Name" width="400" height="341"
								alt="Изображение не может быть загружено"/>
						</a>
					</td>
				</tr>
			}
		</tbody>
		</table>
	</body>
</html>